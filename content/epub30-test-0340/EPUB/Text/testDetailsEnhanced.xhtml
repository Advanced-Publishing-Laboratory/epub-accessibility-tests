<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:epub="http://www.idpf.org/2007/ops"
  lang="en"
>
  <head>
    <title>
      Extended description using a progressively enhanced details and summary
    </title>
    <meta name="charset" content="utf-8" />
    <link rel="stylesheet" type="text/css" href="../Styles/base.css" />
    <link href="../Styles/styles.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="../Styles/enhanced_details.css" />
    <script src="../Scripts/EnhancedDetails.js"></script>
  </head>

  <body>
    <h1>
      Extended description using a progressively enhanced
      <code>details</code> and <code>summary</code>
    </h1>

    <p>
      This example demonstrates how the <code>aria-details + &lt;details&gt;</code>
      technique for setting complex image descriptions can be utilized in a
      progressive and accessible way to provide additional accessibility
      affordances. Only those additional affordances are tested here.
    </p>

    <h1 id="s1">
      Tests for progressively enhanced bar chart image that uses HTML
      <code>details</code>/<code>summary</code> for image description, and
      <code>aria-details</code> for navigation
    </h1>

    <p>The tests below refer to the bar chart image immediately following.</p>

      
    <section id="extdesc-190" class="test">
      <h2>
        <span class="test-title">Reduced Motion</span>
        <br />
        <span class="test-id">enhanced-190</span>
      </h2>
      <p class="desc">
        This test passes if reduced motion is preferred at the operating system level and the
        <code>summary</code> icon does not animate when closed. To test, open the
        <code>details</code>, move it to the side, and then close it.
      </p>
        
      <section class="test-fixture">
      <h2>BarChart for Reduced Motion Test</h2>
      <figure>
        <div class="overlaid">
          <img
            class="overlaid__img"
            src="../Images/chart-ebcaadfb.png"
            alt="Bar chart showing monthly and total visitors for the first quarter 2014 for sites 1 to 3"
            aria-details="image1-extended-desc"
          />
          <details id="image1-extended-desc" class="overlaid__details">
            <summary class="overlaid__summary" title="Description" aria-label="Description">
                <svg class="icon" role="img" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <path class="material-close" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"  fill="currentColor"/>
                  <path class="material-info" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"  fill="currentColor"/>
                </svg>
            </summary>
            <div class="overlaid__content">
              <h3>Overview</h3>
              <p>
                The chart shows the website hits for the first quarter of 2014.
                It shows that Site 1 has more visitors than either of the other
                sites, but the number of visitors is decreasing. Site 2 has a
                fairly constant number of visitors, while for Site 3 page hits
                are increasing month on month.
              </p>
              <h3>Data</h3>
              <table>
                <tr>
                  <th scope="col">Period</th>
                  <th scope="col">Site 1</th>
                  <th scope="col">Site 2</th>
                  <th scope="col">Site 3</th>
                </tr>
                <tr>
                  <th scope="row">Jan</th>
                  <td>135</td>
                  <td>112</td>
                  <td>92</td>
                </tr>
                <tr>
                  <th scope="row">Feb</th>
                  <td>117</td>
                  <td>114</td>
                  <td>99</td>
                </tr>
                <tr>
                  <th scope="row">Mar</th>
                  <td>96</td>
                  <td>111</td>
                  <td>126</td>
                </tr>
                <tr>
                  <th scope="row">Qtr Total</th>
                  <td>348</td>
                  <td>337</td>
                  <td>308</td>
                </tr>
              </table>

              <h3>Presentation</h3>
              <p>
                The bar chart represents both the number of visitors per month
                for each website, and the total number of visitors per website
                for the entire quarter. Website visitors for each month are
                represented using columns lined up horizontally, with heights
                indicating the number of visitors. A fourth column is provided
                for each website with the accumulated site visitors for the
                quarter.
              </p>
            </div>
          </details>
        </div>
        <figcaption>Example.com Site visitors Jan to March 2014</figcaption>
      </figure>
    </section>
    
        
    </section>

      <section id="extdesc-200" class="test">
      <h2>
        <span class="test-title">Fine pointer</span>
        <br />
        <span class="test-id">extdesc-200</span>
     </h2>
       <p class="desc">
        This test passes if all of the following conditions are met:
      </p>
      <ul>
        <li>
          When using a <a href="https://drafts.csswg.org/mediaqueries-4/#valdef-media-pointer-fine">fine</a> pointer,
          the <code>summary</code> icon does not appear until the user hovers the image.
          (For example, if using a mouse on desktop.)
        </li>
        <li>
          When using any other type of pointer, the <code>summary</code> icon is persistent.
          (For example, the icon should always overlay the image on mobile.)
        </li>
      </ul>
 
         <section class="test-fixture">
      <h2>BarChart for Fine Pointer Test</h2>
      <figure>
        <div class="overlaid">
          <img
            class="overlaid__img"
            src="../Images/chart-ebcaadfb.png"
            alt="Bar chart showing monthly and total visitors for the first quarter 2014 for sites 1 to 3"
            aria-details="image2-extended-desc"
          />
          <details id="image2-extended-desc" class="overlaid__details">
            <summary class="overlaid__summary" title="Description" aria-label="Description">
                <svg class="icon" role="img" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <path class="material-close" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"  fill="currentColor"/>
                  <path class="material-info" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"  fill="currentColor"/>
                </svg>
            </summary>
            <div class="overlaid__content">
              <h3>Overview</h3>
              <p>
                The chart shows the website hits for the first quarter of 2014.
                It shows that Site 1 has more visitors than either of the other
                sites, but the number of visitors is decreasing. Site 2 has a
                fairly constant number of visitors, while for Site 3 page hits
                are increasing month on month.
              </p>
              <h3>Data</h3>
              <table>
                <tr>
                  <th scope="col">Period</th>
                  <th scope="col">Site 1</th>
                  <th scope="col">Site 2</th>
                  <th scope="col">Site 3</th>
                </tr>
                <tr>
                  <th scope="row">Jan</th>
                  <td>135</td>
                  <td>112</td>
                  <td>92</td>
                </tr>
                <tr>
                  <th scope="row">Feb</th>
                  <td>117</td>
                  <td>114</td>
                  <td>99</td>
                </tr>
                <tr>
                  <th scope="row">Mar</th>
                  <td>96</td>
                  <td>111</td>
                  <td>126</td>
                </tr>
                <tr>
                  <th scope="row">Qtr Total</th>
                  <td>348</td>
                  <td>337</td>
                  <td>308</td>
                </tr>
              </table>

              <h3>Presentation</h3>
              <p>
                The bar chart represents both the number of visitors per month
                for each website, and the total number of visitors per website
                for the entire quarter. Website visitors for each month are
                represented using columns lined up horizontally, with heights
                indicating the number of visitors. A fourth column is provided
                for each website with the accumulated site visitors for the
                quarter.
              </p>
            </div>
          </details>
        </div>
        <figcaption>Example.com Site visitors Jan to March 2014</figcaption>
      </figure>
    </section>
   
      </section>

     <section id="extdesc-210" class="test">
      <h2>
        <span class="test-title">JavaScript added alt text</span>
        <br />
        <span class="test-id">extdesc-210</span>
     </h2>
      <p class="desc">
        This test passes if all of the following conditions are met when JavaScript is enabled:
      </p>
      <ul>
        <li>
          The <code>details</code> contains the image's alt text as its first section.
        </li>
        <li>
          The alt text inside of the <code>details</code> is <code>aria-hidden</code>.
          (For example, it is not seen by screen reader users.)
        </li>
      </ul>
         
     <section class="test-fixture">
      <h2>BarChart for JavaScript adding alt text Test</h2>
      <figure>
        <div class="overlaid">
          <img
            class="overlaid__img"
            src="../Images/chart-ebcaadfb.png"
            alt="Bar chart showing monthly and total visitors for the first quarter 2014 for sites 1 to 3"
            aria-details="image3-extended-desc"
          />
          <details id="image3-extended-desc" class="overlaid__details">
            <summary class="overlaid__summary" title="Description" aria-label="Description">
                <svg class="icon" role="img" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <path class="material-close" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"  fill="currentColor"/>
                  <path class="material-info" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"  fill="currentColor"/>
                </svg>
            </summary>
            <div class="overlaid__content">
              <h3>Overview</h3>
              <p>
                The chart shows the website hits for the first quarter of 2014.
                It shows that Site 1 has more visitors than either of the other
                sites, but the number of visitors is decreasing. Site 2 has a
                fairly constant number of visitors, while for Site 3 page hits
                are increasing month on month.
              </p>
              <h3>Data</h3>
              <table>
                <tr>
                  <th scope="col">Period</th>
                  <th scope="col">Site 1</th>
                  <th scope="col">Site 2</th>
                  <th scope="col">Site 3</th>
                </tr>
                <tr>
                  <th scope="row">Jan</th>
                  <td>135</td>
                  <td>112</td>
                  <td>92</td>
                </tr>
                <tr>
                  <th scope="row">Feb</th>
                  <td>117</td>
                  <td>114</td>
                  <td>99</td>
                </tr>
                <tr>
                  <th scope="row">Mar</th>
                  <td>96</td>
                  <td>111</td>
                  <td>126</td>
                </tr>
                <tr>
                  <th scope="row">Qtr Total</th>
                  <td>348</td>
                  <td>337</td>
                  <td>308</td>
                </tr>
              </table>

              <h3>Presentation</h3>
              <p>
                The bar chart represents both the number of visitors per month
                for each website, and the total number of visitors per website
                for the entire quarter. Website visitors for each month are
                represented using columns lined up horizontally, with heights
                indicating the number of visitors. A fourth column is provided
                for each website with the accumulated site visitors for the
                quarter.
              </p>
            </div>
          </details>
        </div>
        <figcaption>Example.com Site visitors Jan to March 2014</figcaption>
      </figure>
    </section>
          
    </section>

  
    <script>
      document.querySelectorAll('.overlaid').forEach(EnhancedDetails.enhance);
    </script>
  </body>
</html>
